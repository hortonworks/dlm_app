<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div class="page-container">
    <div class="add-assets" *ngIf="viewState === assetViewState.ADD_ASSETS">
        <div class="hwx-title"> {{ "pages.analytics.workspace.assets.add-assets" | translate }} </div>
        <div class="hwx-desc"> {{ "pages.analytics.workspace.assets.add-assets-desc" | translate }} </div>
        <div class="spacer-15"> </div>
        <button class="mdl-button btn-hwx-primary" (click)="showAssets=true"> {{ "pages.analytics.workspace.assets.add-assets" | translate }} </button>
    </div>
    <div class="edit-assets" *ngIf="viewState === assetViewState.EDIT_ASSETS">
        <div class="mdl-grid mdl-grid--no-spacing">
            <div class="mdl-layout-spacer"></div>
            <button class="mdl-button btn-hwx-primary" (click)="showAssets=true"> {{ "pages.analytics.workspace.assets.add-assets" | translate }} </button>
        </div>
        <div class="spacer-15"> </div>
        <table class="mdl-data-table mdl-js-data-table" *ngIf="viewState === assetViewState.EDIT_ASSETS">
            <thead>
            <th class="mdl-data-table__cell--non-numeric">Source</th>
            <th class="mdl-data-table__cell--non-numeric">Name</th>
            <th class="mdl-data-table__cell--non-numeric">Description</th>
            <th class="mdl-data-table__cell--non-numeric">Owner</th>
            </thead>
            <tbody>
            <tr *ngFor="let asset of workspaceAssetServiceObservable | async ">
                <td class="mdl-data-table__cell--non-numeric mdl-data-table__cell--non-clickable"> {{ asset.assetType }} </td>
                <td class="mdl-data-table__cell--non-numeric key-column mdl-data-table__cell--width15"> {{ asset.assetName }} </td>
                <td class="mdl-data-table__cell--non-numeric mdl-data-table__cell--non-clickable">  {{ asset.description ? asset.description : '-' }} </td>
                <td class="mdl-data-table__cell--non-numeric mdl-data-table__cell--non-clickable"> {{ asset.assetProperties.owner }} </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div *ngIf="showAssets" class="popup borderBox">
    <div class="opaque">
        <asset-search [saveButton]=true [clusterId]="cluster.id" (doneNotification)="saveSelectedAssets($event)" (cancelNotification)="showAssets=false"> </asset-search>
    </div>
</div>
