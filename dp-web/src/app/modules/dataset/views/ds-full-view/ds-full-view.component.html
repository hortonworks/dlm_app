<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div *ngIf="!dsModel">Loading ... </div>
<div *ngIf="dsModel" class="dsFullView borderBox">
  <div class="div50Percent">
    <div class="dsTitle hwx-title">
      <span>{{dsModel.name}}</span>
      <i *ngIf="dsModel.favourite" class="fa fa-star"></i>
    </div>
    <div class="metaInfo">
      <div><span class="label">Datalake:</span><span>{{dsModel.datalakeName}}</span></div>
      <div><span class="label">Creator:</span><span>{{dsModel.creatorName}}</span></div>
    </div>
  </div>
  <div class="div50Percent dataset-view__action-wrapper">
      <div class="dataset-item__action">
        <button id="dropDown_{{dsModel.id}}" class="mdl-button mdl-js-button btn-hwx-primary">
          {{'common.actions' | translate}} <i class="fa fa-chevron-down fa-2"></i>
        </button>
        <ul mdl class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" [attr.for]="'dropDown_' + dsModel.id">
          <li class="mdl-menu__item" (click)="onDeleteDataset()">
            <span>
              <i class="fa__fa-close--icon fa fa-trash-o"></i>
              {{"common.delete" | translate}}
            </span>
          </li>
        </ul>
      </div>
  </div>
  <div style="clear: both;"></div>
  <!--<ds-assets-list [dsModel]="dsModel" [applicableActions]="applicableListActions" (onAction)="onEdit($event)"></ds-assets-list>-->

  <div>
    <ds-assets-list [dsModel]="dsModel"
                    [applicableActions]="applicableListActions"
                    [queryModels]="dsAssetQueryModel"
                    [hideTabs]=true
                    [selectionAllowed]=false
                    (onAction)="onEdit($event)"
    ></ds-assets-list>
  </div>

  <dialog #dialogConfirm class="mdl-dialog dataset-delete-dialog">
      <h4 class="mdl-dialog__title hwx-subtitle">{{'pages.dataset.labels.confirmDelete' | translate}}</h4>
      <div class="mdl-dialog__content">
        <p [innerHTML]="'pages.dataset.labels.messageDelete' | translate: ({'datasetName': dsModel?.name})"></p>
      </div>
      <div class="mdl-dialog__actions">
        <button type="button" class="mdl-button btn-hwx-warning" (click)="doConfirmDelete()">
          {{'common.confirm' | translate}}
        </button>
        <button type="button" class="mdl-button close btn-hwx-default" (click)="doCancelDelete()">
          {{'common.cancel' | translate}}
        </button>
      </div>
    </dialog>

</div>
