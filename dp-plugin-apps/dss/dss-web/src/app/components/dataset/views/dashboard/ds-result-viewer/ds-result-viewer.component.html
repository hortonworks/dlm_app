<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div class="ds-result-viewer borderBox">
  <div class="list">
    <div *ngIf="!datasetModels">{{"common.loading" | translate}}...</div>
    <div *ngIf="datasetModels && view === views.grid">
      <ds-tile-proxy
        *ngFor="let dsMdl of datasetModels"
        [dsModel]="dsMdl"
        (onDeleteDataset)="onDeleteDataset($event)"></ds-tile-proxy>
      <div style="clear:both"></div>
    </div>
    <div *ngIf="datasetModels && view === views.list">
      <ds-row-proxy
        [datasetModels]="datasetModels"
        (onDeleteDataset)="onDeleteDataset($event)"></ds-row-proxy>
    </div>
  </div>
  <simple-pagination *ngIf="datasetModels"
                     [pageSize]="limit"
                     [pageStartIndex]="start"
                     [count]="currentDsTag.count"
                     (onPageSizeChange)="onSizeChange($event)"
                     (onPageChange)="onPageChange($event)"
  ></simple-pagination>

  <dialog #dialogConfirm class="mdl-dialog dataset-delete-dialog" [hidden]="!_datasetToDelete">
      <h4 class="mdl-dialog__title hwx-subtitle">{{'pages.dataset.labels.confirmDelete' | translate}}</h4>
      <div class="mdl-dialog__content" *ngIf="!!_deleteWasSuccessful">
        <p [innerHTML]="'pages.dataset.labels.successfullyDeleted' | translate: ({'datasetName': _datasetToDelete?.name})"></p>
      </div>
      <div class="mdl-dialog__content" *ngIf="!_deleteWasSuccessful">
        <p [innerHTML]="'pages.dataset.labels.messageDelete' | translate: ({'datasetName': '<span>'+_datasetToDelete?.name+'</span>'})" data-se="delete_collection_confirmation_msg"></p>
      </div>
      <div class="mdl-dialog__actions" *ngIf="!_deleteWasSuccessful">
        <button type="button" class="mdl-button btn-hwx-warning" (click)="doConfirmDelete()" data-se="delete_collection_confirm">
          {{'common.confirm' | translate}}
        </button>
        <button type="button" class="mdl-button close btn-hwx-default" (click)="doCancelDelete()" data-se="delete_collection_confirmation_cancel">
            {{'common.cancel' | translate}}
        </button>
      </div>
      <div class="mdl-dialog__actions" *ngIf="!!_deleteWasSuccessful">
        <button type="button" class="mdl-button close btn-hwx-secondary" (click)="doCancelDelete()">
            {{'common.close' | translate}}
        </button>
      </div>
    </dialog>
</div>

