<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div>
    <nav-tag-panel
      #tagViewer
      (updateSelection)="onTagChange($event)"
      [dsNameSearch]="dsNameSearch"
    ></nav-tag-panel>
    <div class="result-viewer">
        <div class="page-container">
            <div class="hwx-title-panel result-header">
                <div class="mdl-grid mdl-grid--no-spacing">
                    <div class="hwx-title" *ngIf="currentDsTag">{{currentDsTag.name}}</div>
                    <div class="mdl-layout-spacer"></div>
                    <div class="search-input">
                        <input id="search" name="search-input" type="text" placeholder="Search" [ngModel]="dsNameSearch"
                          (keyup)="dsNameSearchChange($event)"
                          data-se="collection_dashboard__filter"/>
                        <i *ngIf="!dsNameSearch || dsNameSearch.length === 0" aria-hidden="true" class="fa fa-search dp-input__icon"></i>
                        <i *ngIf="dsNameSearch && dsNameSearch.length > 0" aria-hidden="true" class="fa fa-times-circle dp-input__icon" (click)="clearSearch()"></i>
                    </div>
                    <div class="mdl-button-group">
                        <button (click)="onViewChange(views.list)"
                          [ngClass]="{'button-color--dark-grey': currentView === views.list }"
                          class="mdl-button"
                          data-se="collection_dashboard__mode_list">
                            <i class="fa fa-list-ul"></i>
                        </button>
                        <button (click)="onViewChange(views.grid)"
                          [ngClass]="{'button-color--dark-grey': currentView === views.grid }"
                          class="mdl-button"
                          data-se="collection_dashboard__mode_tile">
                            <i class="fa fa-th"></i>
                        </button>
                    </div>
                    <div class="addDatasetButtonCont">
                      <button
                        class="mdl-button btn-hwx-primary pull-right"
                        (click)="actionAddNewDataset()"
                        data-se="collection_dashboard__create">
                        {{("pages.dataset.labels.newDataset" | translate).toUpperCase()}}
                      </button>
                    </div>
                </div>
            </div>

            <div class="result-container">
                <ds-nav-result-viewer
                  [view]="currentView"
                  [currentDsTag]="currentDsTag"
                  [dsNameSearch]="dsNameSearch"
                  (onViewRefresh)="onViewRefresh()"
                ></ds-nav-result-viewer>
            </div>
        </div>
    </div>
  <div style="clear: both"></div>
</div>
