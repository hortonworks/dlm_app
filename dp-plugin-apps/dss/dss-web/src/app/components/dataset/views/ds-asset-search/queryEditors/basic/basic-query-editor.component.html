<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div class="queryEditor borderBox" #outerCont>
  <div class="inputWidgetCont">
    <div class="searchIconCont"><i class="fa fa-search"></i></div>
    <div class="searchWidgetCont" (click)="onKeyDownAtSearch($event)">
      <span class="tagSticker" *ngFor="let tagObj of filterTags">{{tagObj.display}}&nbsp;&nbsp;&nbsp;<i (click)="removeFilter(tagObj)" class="fa fa-times"></i></span>
      <input type="text" name="search" class="search-text" placeholder="Name Search" data-se="basic_query_editor_search_input" [(ngModel)]="searchText" (change)="onSearchChange($event)" (keyup)="onKeyUp($event)" #searchInput/>
    </div>
    <div class="showFiltersButton" (click)="toggleFilterCont()"><i class="fa fa-filter"></i>&nbsp;&nbsp;Filter&nbsp;&nbsp;<i class="fa fa-angle-down"></i></div>
    <div class="clearfix"></div>
  </div>
  <div *ngIf="filterStateFlag" class="filterCont">
    <div class="singleFilterCont">
      <div class="filter-header">
        <span>Created Time</span>
      </div>
      <select (change)="onCreateTimeChange()" [(ngModel)]="createdValueIndx"><option *ngFor="let optn of createdFilOptns let i=index;" [value]="i">{{optn}}</option></select>
    </div>
    
    <div class="singleFilterCont">
      <div class="filter-header">
        <span>Owner</span>
      </div>
      <input placeholder="Enter Text" type="Text" [(ngModel)]="ownerName" (change)="onOwnerNameChange($event)"/>
    </div>

    <div class="singleFilterCont">
      <div class="filter-header">
        <span>DB Name</span>
      </div>
      <input placeholder="Enter Text" type="Text" [(ngModel)]="dbName" (change)="onDbNameChange($event)"/>
    </div>

    <div class="singleFilterCont">
      <div class="filter-header">
        <span>Tag</span>
      </div>
      <input placeholder="Enter Text" type="Text" ngui-auto-complete [(ngModel)]="selectedTag" [source]="tagsAvailable"
                 max-num-list="5" (change)="onTagSelectionChange($event)" style="width:100%;"/>
    </div>

    <div style="clear: both"></div>
  </div>
</div>
