<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div class="assetSearch borderBox">


	<div class="search-component">
		<i class="fa fa-search"></i>
		<input type="text" title="Search" class="form-control" placeholder="Asset Name" 
		[(ngModel)]="searchText" (change)="onSearchTextChange($event)"/>
	</div>

	<div class="search-result flex-grid">
            <div class="refine-search">
                <div class="title">
                    <i class="fa fa-sliders"></i>
                    <span class="caption">Refine Search</span>
                </div>
                <div class="filter-section-group">
                    <div class="filter-section">
                        <div class="filter-header">
                            <i class="fa fa-angle-right"></i>
                            <span class="hwx-subtitle">Created</span>
                            <span class="pull-right clear-filter" style="cursor:pointer;">Clear</span>
                        </div>
                        <div>
                            <div class="radio-control"><input class="regular-radio" type="radio" name="created" title=""> <span>Last day</span></div>
                            <div class="radio-control"><input class="regular-radio" type="radio" name="created" title=""> <span>Last 30 days</span></div>
                            <div class="radio-control"><input class="regular-radio" type="radio" name="created" title=""> <span>Last 60 days</span></div>
                        </div>
                    </div>
                    <div class="filter-section">
                        <div class="filter-header">
                            <i class="fa fa-angle-right"></i>
                            <span class="hwx-subtitle">Tag</span>
                            <span class="pull-right clear-filter" style="cursor:pointer;" (click)="clearTag()">Clear</span>
                        </div>
                        <input type="Text" ngui-auto-complete [(ngModel)]="selectedTag" [source]="tagOptions"
								placeholder="Enter Text" max-num-list="5" (change)="onTagSelectionChange($event)"/>
                    </div>
                    <div class="filter-section">
                        <div class="filter-header">
                            <i class="fa fa-angle-right"></i>
                            <span class="hwx-subtitle">Owner</span>
                            <span class="pull-right clear-filter" style="cursor:pointer;" (click)="clearOwnerName()" >Clear</span>
                        </div>
                        <input placeholder="Enter Text" type="Text" [(ngModel)]="ownerName" (change)="onOwnerNameChange($event)"/>
                    </div>
                    <div class="filter-section">
                        <div class="filter-header">
                            <i class="fa fa-angle-right"></i>
                            <span class="hwx-subtitle">DB Name</span>
                            <span class="pull-right clear-filter" style="cursor:pointer;" (click)="clearDbName()">Clear</span>
                        </div>
                        <input placeholder="Enter Text" type="Text" [(ngModel)]="dbName" (change)="onDbNameChange($event)"/>
                    </div>
<!--
					<div class="filter-section">
						<div class="filter-header">
							<a style="cursor: pointer; text-transform: uppercase">
								<i class="fa fa-plus-square"></i>
								<span>Add Filter</span>
							</a>
						</div>
                    </div>
 -->                
				</div>
            </div>
            <div class="result-list">
                <div class="title">
                    <span style="font-weight: 500; padding-right: 25px; line-height: 1.5; visibility: visible;">
                        <span id="FilteredItems" *ngIf="showQueryResults && resultStartIndx">{{resultStartIndx}} - {{resultEndIndx}}</span>
                    </span>
                    <span id="filterTags" class="tags" style="padding-top: 0"></span>

                </div>
				<div class="queryResultCont" #queryResultCont>
				    <ds-assets-list-style1 [hideTabs]="true"
				                    [hideSearch]="true"
				                    [queryModels]="queryModel"
				                    [innerListScrollable]="true"
				                    [avoidLoadingOnInit]="true"
				                    [clusterId]="clusterId"
				                    [allowAssetNavigation]="false"
				                    [showBelongsToColumn]="showBelongsToColumn"
				                    (onAction)="onListAction($event)"
				                    *ngIf="showQueryResults"                    #dsAssetList></ds-assets-list-style1>
				    <div *ngIf="!showQueryResults" class="noSearchMessage"><span>{{"pages.dataset.asset-search.noSearchMsg" | translate}}</span></div>
				</div>
            </div>
        </div>



	<div class="modal-footer flex-grid">
	    <div class="selected-items-container flex-grid" *ngIf="!hideActionButtonCont">
	        <div class="flex-grid" style="font-size: 1.5em; color: #666; margin-right: 20px;">
	            <div style="padding: 5px;"><i class="fa fa-angle-double-up"></i></div>
	            <div style="padding: 5px"><i class="fa fa-inbox"></i></div>
	            <div style="padding: 5px; text-transform: uppercase;">
	                <span style="color: #333; font-size: 1.2em;" id="ItemSelected">
	                	<span [style.display]="allSelected ? 'inline' : 'none'">ALL</span>
	                	<span [style.display]="allSelected && cherryDroped ? 'inline' : 'none'" style="font-size: 12px; vertical-align: 4px;"> but </span>
	                	<span [style.display]="cherryDroped ? 'inline' : 'none'">{{cherryDroped}}</span>
	                	<span [style.display]="cherryPicked ? 'inline' : 'none'">{{cherryPicked}}</span>
	                	<span [style.display]="!allSelected && !cherryDroped && !cherryPicked ? 'inline' : 'none'">0</span>
	                </span>
	                <span style="font-size: 12px; vertical-align: 4px;">Selected</span>
	            </div>
	        </div>
	        <button class="mdl-button btn-hwx-primary" type="button" value="" (click)="onAddAssetToList()">Add</button>
	    </div>

	    <button class="mdl-button btn-hwx-secondary" type="button" (click)="onCancel()">Cancel</button>
	</div>
</div>