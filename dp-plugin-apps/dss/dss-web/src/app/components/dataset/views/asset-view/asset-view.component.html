<!--
  ~ /*
  ~  * Copyright  (c) 2016-2017, Hortonworks Inc.  All rights reserved.
  ~  *
  ~  * Except as expressly permitted in a written agreement between you or your company
  ~  * and Hortonworks, Inc. or an authorized affiliate or partner thereof, any use,
  ~  * reproduction, modification, redistribution, sharing, lending or other exploitation
  ~  * of all or any part of the contents of this software is strictly prohibited.
  ~  */
  -->

<div class="asset-view">
  <div class="asset-view-wrapper">
    <div class="asset-view-summary">
    <div class="title">
      <span class="hwx-title"> {{this.tableName}} </span>
      <span class="mdl-chip hive-table-chip">
        <span class="mdl-chip__text">HIVE</span>
      </span>
    </div>
    <app-borromean-rings-button (onClick)="toggleSummary()"> </app-borromean-rings-button>
  </div>

    <dp-tabs [tabEnum]="topLevelTabs" [tabType]="tabType.UNDERLINE" (selected)="selectedTopLevelTabs=$event"> </dp-tabs>

    <section *ngIf="selectedTopLevelTabs === topLevelTabs.OVERVIEW">
      <dss-asset-view-overview [clusterId]="clusterId" [guid]="guid" [assetDetails]="assetDetails"> </dss-asset-view-overview>
    </section>

    <section *ngIf="selectedTopLevelTabs === topLevelTabs.SCHEMA" style="position:relative;">
      <div class="sticker" *ngIf="nextRunDisplay">{{nextRunDisplay}}</div>
      <dp-asset-details-view [assetDetails]="assetDetails" [clusterId]="clusterId" [guid]="guid"> </dp-asset-details-view>
    </section>

    <section *ngIf="selectedTopLevelTabs === topLevelTabs.AUDIT">
      <asset-audit-view [clusterId]="clusterId" [assetDetails]="assetDetails"> </asset-audit-view>
    </section>

    <section *ngIf="selectedTopLevelTabs === topLevelTabs.POLICY">
      <div class="hwx-title-panel hwx-title">{{'pages.dataset.labels.resourceBasedPolicies' | translate}}</div>
      <dp-asset-resource-policy-view [clusterId]="clusterId" [assetDetails]="assetDetails"> </dp-asset-resource-policy-view>
      <div class="hwx-title-panel hwx-title">{{'pages.dataset.labels.tagBasedPolicies' | translate}}</div>
      <dp-asset-tag-policy-view [clusterId]="clusterId" [guid]="guid"> </dp-asset-tag-policy-view>
    </section>
  </div>

  <div class="dp-sidle-in-summary" [ngClass]="{'show': showSummary}">
    <dss-asset-view-aside-summary [assetDetails]="assetDetails"> </dss-asset-view-aside-summary>
  </div>

</div>