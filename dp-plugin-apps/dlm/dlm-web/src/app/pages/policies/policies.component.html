<div class="row">
  <div class="col-md-3">
    <dlm-page-header [title]="'page.policies.header'"></dlm-page-header>
  </div>
  <div class="col-md-9">
    <div class="pull-right filters-block page-section">

      <div class="filter-item" *ngIf="(policies$ | async)?.length > 0">
        <dlm-table-filter
        [filterBy]="filterBy"
        [data]="filteredPolicies$ | async"
        (onFilter)="onFilter($event)"></dlm-table-filter>
      </div>

      <div class="pull-left filter-item" *ngIf="(policies$ | async)?.length > 0">
        <policy-service-filter (onFilter)="filterPoliciesByService($event)"></policy-service-filter>
      </div>

      <dlm-add-entity-button
        [canAddPolicy]="(resourceAvailability$ | async)?.canAddPolicy"
        [canAddPairing]="(resourceAvailability$ | async)?.canAddPairing">
      </dlm-add-entity-button>
    </div>
  </div>
</div>

<div class="row page-section">
  <div class="col-md-12" *ngIf="(policies$ | async)?.length > 0; else noPolicies">
    <dlm-policy-table [policies]="filteredPolicies$ | async" [clusters]="clusters$ | async" [activePolicyId]="activePolicyId"></dlm-policy-table>
  </div>
  <ng-template #noPolicies>
    <div class="alert-wrapper">
      <div class="alert alert-warning" role="alert">
        {{ "page.policies.no_policies" | translate }}
      </div>
    </div>
  </ng-template>
</div>
