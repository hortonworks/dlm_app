# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# health
GET     /health                                               controllers.Status.health

# clusters
GET     /api/clusters                                         controllers.Clusters.list

#Pairs
GET     /api/pairs                                            controllers.Pairs.list
POST    /api/pair                                             controllers.Pairs.create
POST    /api/unpair                                           controllers.Pairs.unpair

#Policies
GET     /api/policies                                         controllers.Policies.list
GET     /api/clusters/:clusterId/policy/:name                 controllers.Policies.retrieve(clusterId : Long, name : String)
POST    /api/clusters/:clusterId/policy/:name/submit          controllers.Policies.submit(clusterId: Long, name: String)
PUT     /api/clusters/:clusterId/policy/:name/schedule        controllers.Policies.schedule(clusterId: Long, name: String)
PUT     /api/clusters/:clusterId/policy/:name/suspend         controllers.Policies.suspend(clusterId: Long, name: String)
PUT     /api/clusters/:clusterId/policy/:name/resume          controllers.Policies.resume(clusterId: Long, name: String)
DELETE  /api/clusters/:clusterId/policy/:name                 controllers.Policies.delete(clusterId: Long, name: String)

#Policy instances
GET     /api/clusters/:clusterId/policy/:name/jobs            controllers.PolicyInstances.retrieve(clusterId : Long, name : String)
GET     /api/clusters/:clusterId/jobs                         controllers.PolicyInstances.list(clusterId : Long)
PUT     /api/clusters/:clusterId/policy/:name/jobs/abort      controllers.PolicyInstances.abort(clusterId : Long, name : String)


#Events
GET     /api/events                                           controllers.Events.list


#HdfsFiles
GET     /api/clusters/:clusterId/webhdfs/file                 controllers.HdfsFiles.retrieve(clusterId: Long)


# Due to the regex involved, Following should be always placed at the end of the file
# static resources
# @TODO: Replace `/usr/dlm-web` with env variable DLM_WEB_HOME
#        which will be set in prod env and will be referred in `StaticAssets.at` method
GET      /                                                      controllers.StaticAssets.at(path="/usr/dlm-web", file="index.html")
GET     /dlm/*file                                              controllers.StaticAssets.at(path="/usr/dlm-web", file)
GET     /*file                                                  controllers.StaticAssets.at(path="/usr/dlm-web", file)
